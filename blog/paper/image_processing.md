<head>
	<style type="text/css">h1:first-child {display:none;}</style>
	<script type="text/javascript" src="https://gcorejs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-MML-AM_CHTML"></script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
            tex2jax: {
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
            inlineMath: [['$','$']]
            }
        });
    </script>
</head>

# 图像基础

> 自己本身也不是传统视觉出身，但日常工作中经常遇到传统cv处理的概念和方法，自己零零碎碎接触很多，故总结一下

### [图像处理](https://baike.baidu.com/item/%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/294902)

首先，图像处理也就是在日常中最常用的操作，概念百度百科已经描述的非常详细了, 可以去详细看一下

### [图像噪声](https://baike.baidu.com/item/%E5%9B%BE%E5%83%8F%E5%99%AA%E5%A3%B0)

图像噪声是指存在于图像数据中的不必要的或多余的干扰信息。噪声的存在严重影响了遥感图像的质量，因此在图像增强处理和分类处理之前，必须予以纠正。换种表述就是 图像在获取或传输的过程中受到随机信号的干扰，在图像上出现的一些随机的、离散的、孤立的像素点，这些点会干扰人眼对图像信息的分析。图像的噪声通常是比较复杂的，很多时候将其看成是多维随机过程。

图像的噪声很多，性质也千差万别， 可以通过不同的方法给噪声分类。
**按照产生的原因：**

- 外部噪声
- 内部噪声
  这种分类方法，有助于理解噪声产生的源头，但对于降噪算法只能起到原理上的帮组。

**噪声和图像信号的关系，可以分为：**

- 加性噪声，加性噪声和图像信号强度不相关，这类噪声可以看着理想无噪声图像f和噪声的和。
- 乘性噪声，乘性噪声和图像信号是相关的，往往随图像信号的变化而变化。
  而为了分析处理的方便，常常将乘性噪声近似认为是加性噪声，而且总是假定信号和噪声是互相独立的。

**按照概率密度函数（PDF）分类：**

- 高斯噪声，高斯噪声模型经常被用于实践中。
- 脉冲噪声（椒盐噪声），图像上一个个点，也可称为散粒和尖峰噪声。
- 伽马噪声
- 瑞利噪声
- 指数分布噪声
- 均匀分布噪声
  **这种分类方法，引入了数学模型，对设计过滤算法比较有帮助。**

### 图像去噪

图像去噪大部分是基于滤波器的去噪算法，中值滤波、高斯滤波等等

### [图像滤波](https://baike.baidu.com/item/%E5%9B%BE%E5%83%8F%E6%BB%A4%E6%B3%A2)

图像滤波，即在尽量保留图像细节特征的条件下对目标图像的噪声进行抑制，是图像预处理中不可缺少的操作，其处理效果的好坏将直接影响到后续图像处理和分析的有效性和可靠性

滤波一词借用于**频域处理**。本意是指信号有各种频率的成分，滤掉不想要的成分，即为滤掉常说的噪声，留下想要的成分，这既是滤波的过程，也是滤波的目的。同时，**滤波**的模板被称为**滤波器**，滤波的分类和名字也是和滤波器一一对应的，我猜这也是有时候见到的是滤波，有时候见到的是滤波器，而且他们好像还是一个东西的原因吧，那么我们下面也就不分怎么清楚了。

滤波器作为图像处理的重要内容，大致可分为两类，空域滤波器和频率域滤波器

#### 频率域滤波器(频域滤波器)

> 后续有兴趣或者有时间补充

频率域滤波是指对一副图像的傅里叶变换进行相应的滤波处理，然后计算其反变换，得到处理后的空间域结果

频率域的滤波器有低通滤波器与高通滤波器之分：

- 衰减高频而通过低频的滤波器的滤波器称为**低通滤波器**，将模糊（平滑）一副图像。
- 衰减低频而通过高频的滤波器的滤波器称为**高通滤波器**，将锐化一副图像。

##### 低通滤波器

理想低通滤波器

布特沃斯低通滤波器

高斯低通滤波器

##### 高通滤波器

理想高通滤波器

布特沃斯高通滤波器

高斯高通滤波器

#### 空间滤波

##### 1、空间滤波基础

空间滤波一词中滤波取自数字信号处理，指接受或拒绝一定的频率成分，但是空间滤波学习内容实际上和通过傅里叶变换实现的频域的滤波是等效的，故而也称为滤波。空间滤波主要直接基于领域（空间域）对图像中的像素执行计算，用滤波器（也成为空间掩膜、核、模板和窗口）直接作用于图像本身完成类似的平滑。

##### 2、空间滤波机理

对空间域中的每一点(x,y)，重复如下操作：

- 对预先定义的以（x,y)为中心的领域内的像素进行预定义运算。
- 将（1）中运算的结果作为(x,y)点新的响应。

上述过程就称为邻域处理或空间域滤波。

##### 3、空间滤波分类

根据预定义的操作，可以将滤波器分为：

- 线性滤波器 常见的**线性滤波**有：均值滤波、高斯滤波、盒子滤波、拉普拉斯滤波等等，通常线性滤波器之间只是模版系数不同。
- 非线性滤波器 **非线性滤波**利用原始图像跟模版之间的一种逻辑关系得到结果，如最值滤波器，中值滤波器和双边滤波器等。

而根据滤波器最终对图像造成的影响，可以将滤波器分为：

- 平滑滤波器 ，通常用于模糊图像或者去除图像中的噪声
- 锐化滤波器，突出图像中的边缘细节部分

##### 4、空间相关和卷积

 在执行线性空间vlbo时，有两个相近的概念需要理解，相关和卷积。相关是滤波器模板移过图像并计算每个位置乘积之和的处理。卷积机理类似，但是滤波器首先需要旋转180°。关于卷积的详细说明，可以参考文章

[卷积在图像处理中的应用](https://www.cnblogs.com/noticeable/p/9196190.html)

[一些算子及不同类型的卷积](https://www.cnblogs.com/noticeable/p/9197640.html)

### 空间滤波器

#### 滤波器

首先我们应该了解一下什么是平滑。平滑 也称 模糊, 是一项简单且使用频率很高的图像处理方法。平滑的一种作用就是用来减弱噪声。OpenCV中提供了两类常见的滤波器用来对图像进行平滑处理。一类是线性滤波，包括 方框滤波（boxFilter）、均值滤波（blur）、高斯滤波（GaussianBlur）；另一类是非线性滤波器，包括中值滤波（medianBlur）和双边滤波（bilateralFilter）

##### 卷积

卷积是两个变量在某范围内相乘后求和的结果(g(x,y)绿色部分)。卷积是一种线性运算,图像处理中常见的mask运算都是卷积，广泛应用于图像滤波。对于图像操作来说就是在每一个图像块（f(x,y)）与某个核（h(x,y)）之间进行的运算。

卷积公式：

$$w(s, t)*f(x, y)=\sum^{a}_{s=-a}\sum^{b}_{s=-b}w(s, t)*f(x-s, y-t)$$

简单的理解：**某个像素点的颜色值，依赖于当前像素点颜色值与其周围像素点颜色值进行线性累加后得到新值。**
卷积模板的选择：

I）模板大小。我们通常**使用奇数作为卷积模板的宽高值**，这样便于对称处理。并且卷积模板的宽高通常一样，也即**通常使用正方形卷积模板, a=b**。

II）模板系数。由于我们卷积处理只是希望在原先图像基础上做一些基本调整处理，所以通常**模板中所有卷积系数之和为1，即：**

$$\sum^{a}_{s=-a}\sum^{b}_{s=-b}w(s, t)=1.0$$

这里的卷积和深度学习中的卷积一样的，不同在于这里的卷积和中参数是预定义的，而深度学习中卷积和的参数是需要学习的。

<img src="https://oscimg.oschina.net/oscnet/3e0200b4dbbc34d2f96e20aa5e072c1ff4a.jpg" style="zoom:80%;" />

##### 算子(卷积核)

核就是图像处理时，给定输入图像，在输出图像中每一个像素是输入图像中一个小区域中像素的加权平均，其中权值由一个函数定义，这个函数称为卷积核。核说白了就是一个固定大小的数值数组。该数组带有一个 锚点 ，一般位于数组中央。

#### 线性滤波器

#### 非线性滤波器



***

[Reference]

[图像处理-博客园](https://www.cnblogs.com/wangguchangqing/)

[图像处理--滤波器](https://zhuanlan.zhihu.com/p/182520299)

[图像处理系列笔记](https://blog.csdn.net/qq_33208851/article/details/95335809)

[OpenCV实现图像的空间滤波——图像平滑](https://www.cnblogs.com/noticeable/p/10875905.html)

[常见线性滤波](https://blog.csdn.net/upperTime/article/details/87919876)
